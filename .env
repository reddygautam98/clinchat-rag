# =============================================================================
# ClinChat-RAG Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=ClinChat-RAG
APP_VERSION=1.0.0
APP_DESCRIPTION="Clinical Document AI Assistant"
ENVIRONMENT=development  # development, staging, production
DEBUG=true
LOG_LEVEL=INFO

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_HOST=localhost
API_PORT=8000
API_RELOAD=true
API_WORKERS=1
API_PREFIX=/api/v1

# CORS Settings
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080", "http://localhost:8501"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL with pgvector
DATABASE_TYPE=postgresql
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=clinchat_rag
DATABASE_USER=clinchat_user
DATABASE_PASSWORD=your_secure_password_here
DATABASE_URL=postgresql://clinchat_user:your_secure_password_here@localhost:5432/clinchat_rag

# Database Pool Settings
DATABASE_MIN_CONNECTIONS=1
DATABASE_MAX_CONNECTIONS=20
DATABASE_ECHO=false

# =============================================================================
# VECTOR STORE CONFIGURATION
# =============================================================================
# Vector Store Type: chroma, pinecone, or weaviate
VECTOR_STORE_TYPE=chroma

# Chroma Configuration
CHROMA_HOST=localhost
CHROMA_PORT=8001
CHROMA_COLLECTION_NAME=clinical_documents
CHROMA_PERSIST_DIRECTORY=./data/chroma_db

# Pinecone Configuration (if using Pinecone)
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_ENVIRONMENT=us-west1-gcp
PINECONE_INDEX_NAME=clinchat-rag

# Vector Embedding Settings
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384
CHUNK_SIZE=512
CHUNK_OVERLAP=50

# =============================================================================
# AI/ML MODEL CONFIGURATION
# =============================================================================
# Primary LLM Provider: openai, azure_openai, anthropic, or local
LLM_PROVIDER=anthropic

# OpenAI Configuration (for embeddings only)
OPENAI_API_KEY=your_actual_openai_api_key_here
OPENAI_MODEL=gpt-4-1106-preview
OPENAI_EMBEDDING_MODEL=text-embedding-ada-002
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.1

# Anthropic Configuration (Primary AI Provider - Fusion Technology)
ANTHROPIC_API_KEY=your_actual_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
ANTHROPIC_MAX_TOKENS=4000
ANTHROPIC_TEMPERATURE=0.1

# Local Model Configuration
LOCAL_MODEL_PATH=./models/
LOCAL_MODEL_NAME=llama-2-7b-chat

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=your_redis_password_here
REDIS_URL=redis://localhost:6379/0

# Redis for Caching
CACHE_TTL=3600  # 1 hour in seconds
CACHE_PREFIX=clinchat:

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================
# JWT Configuration
SECRET_KEY=your_super_secret_jwt_key_here_min_32_characters
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Hashing
BCRYPT_ROUNDS=12

# API Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60  # seconds

# HTTPS/TLS Configuration
USE_TLS=false
TLS_CERT_PATH=./certs/cert.pem
TLS_KEY_PATH=./certs/key.pem

# =============================================================================
# COMPLIANCE & AUDIT SETTINGS
# =============================================================================
# PHI Handling
ENABLE_PHI_DETECTION=true
ENABLE_PHI_REDACTION=true
PHI_REDACTION_METHOD=mask  # mask, hash, remove

# Audit Logging
ENABLE_AUDIT_LOGGING=true
AUDIT_LOG_LEVEL=INFO
AUDIT_LOG_PATH=./logs/audit/
AUDIT_RETENTION_DAYS=2555  # 7 years for clinical compliance

# Data Encryption
ENCRYPTION_KEY=your_32_character_encryption_key_here
ENABLE_FIELD_ENCRYPTION=true

# =============================================================================
# FILE STORAGE & PROCESSING
# =============================================================================
# File Upload Settings
MAX_FILE_SIZE_MB=100
ALLOWED_FILE_TYPES=["pdf", "docx", "txt", "csv", "xlsx"]
UPLOAD_PATH=./data/uploads/
PROCESSED_PATH=./data/processed/

# Document Processing
ENABLE_OCR=true
OCR_LANGUAGE=eng
TESSERACT_PATH=/usr/bin/tesseract

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Prometheus Metrics
ENABLE_METRICS=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Health Check
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_TIMEOUT=30

# Logging Configuration
LOG_FORMAT=json
LOG_FILE_PATH=./logs/clinchat-rag.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================
# SMTP for Email Notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password_here
SMTP_TLS=true

# Webhook Configuration
WEBHOOK_URL=https://your-webhook-endpoint.com/notify
WEBHOOK_SECRET=your_webhook_secret_here

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================
# Test Database
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/clinchat_rag_test

# Development Settings
AUTO_RELOAD=true
ENABLE_DOCS=true
DOCS_URL=/docs
REDOC_URL=/redoc

# Testing Configuration
TEST_MODE=false
MOCK_LLM_RESPONSES=false
SKIP_AUTH_IN_TESTS=true

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Async Settings
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT=300  # 5 minutes

# Memory Management
MAX_MEMORY_MB=4096
GARBAGE_COLLECTION_THRESHOLD=0.8

# Batch Processing
BATCH_SIZE=32
MAX_BATCH_WAIT_TIME=5  # seconds

# =============================================================================
# CLOUD & DEPLOYMENT
# =============================================================================
# AWS Configuration (if deploying to AWS)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=clinchat-rag-documents

# Docker Configuration
DOCKER_REGISTRY=your-registry.com
DOCKER_TAG=latest

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_CHAT_HISTORY=true
ENABLE_DOCUMENT_UPLOAD=true
ENABLE_BATCH_PROCESSING=true
ENABLE_REAL_TIME_SEARCH=true
ENABLE_ANALYTICS=true
ENABLE_FEEDBACK_COLLECTION=true

# =============================================================================
# REGULATORY COMPLIANCE
# =============================================================================
# Validation Rules
ENABLE_GXP_VALIDATION=true
ENABLE_HIPAA_COMPLIANCE=true
ENABLE_FDA_21CFR11_COMPLIANCE=true

# Data Retention
DATA_RETENTION_YEARS=7
AUTO_DELETE_EXPIRED_DATA=false

# Access Control
ENABLE_RBAC=true
DEFAULT_USER_ROLE=reader
ADMIN_EMAIL=admin@yourcompany.com